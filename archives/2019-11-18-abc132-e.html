<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8" data-next-head=""/><meta name="viewport" content="width=device-width" data-next-head=""/><meta name="theme-color" content="#ddd4bb" data-next-head=""/><meta property="og:type" content="website" data-next-head=""/><meta property="og:url" content="https://koka831.github.io" data-next-head=""/><meta property="og:site_name" content="/var/log/koka" data-next-head=""/><meta name="twitter:card" content="summary" data-next-head=""/><meta name="twitter:title" content="/var/log/koka" data-next-head=""/><meta name="twitter:site" content="@k_0ka" data-next-head=""/><meta name="twitter:description" content="cat /var/log/koka &gt; /dev/null" data-next-head=""/><link rel="alternate" type="application/rss+xml" href="https://koka831.github.io/feed.xml" title="/var/log/koka RSS2.0" data-next-head=""/><title data-next-head=""></title><meta property="title" content="Hopscotch Addict | /var/log/koka" data-next-head=""/><meta property="og:title" content="Hopscotch Addict | /var/log/koka" data-next-head=""/><meta property="twitter:title" content="Hopscotch Addict | /var/log/koka" data-next-head=""/><meta property="description" content="グラフの構築" data-next-head=""/><meta property="og:description" content="グラフの構築" data-next-head=""/><meta property="twitter:description" content="グラフの構築" data-next-head=""/><meta property="og:image" content="https://koka831.github.io/img/icon.png" data-next-head=""/><link rel="preload" href="/_next/static/css/3c63f1a78079399c.css" as="style"/><link rel="preload" href="/_next/static/css/5709b986f32934dd.css" as="style"/><link rel="stylesheet" href="/_next/static/css/3c63f1a78079399c.css" data-n-g=""/><link rel="stylesheet" href="/_next/static/css/5709b986f32934dd.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" noModule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-8cac0b4b405cede1.js" defer=""></script><script src="/_next/static/chunks/framework-d7f578ab3069408c.js" defer=""></script><script src="/_next/static/chunks/main-9d035c440ec94d06.js" defer=""></script><script src="/_next/static/chunks/pages/_app-87775d45a97146af.js" defer=""></script><script src="/_next/static/chunks/98bef5de-90a314e763d10677.js" defer=""></script><script src="/_next/static/chunks/230-8a10a6030a242aaa.js" defer=""></script><script src="/_next/static/chunks/772-7af656588a6d3f4a.js" defer=""></script><script src="/_next/static/chunks/pages/archives/%5Bslug%5D-296f94b36904c5e2.js" defer=""></script><script src="/_next/static/cFpM8iTjps8Dc6EBauz9R/_buildManifest.js" defer=""></script><script src="/_next/static/cFpM8iTjps8Dc6EBauz9R/_ssgManifest.js" defer=""></script></head><body><div id="__next"><nav class="Header_navigation__container__QTqC2"><div class="Header_navigation___WOtz"><a href="/">/var/log/koka</a></div><div><a href="/archives">archive</a></div></nav><main class="Layout_container__p0wDU"><div class="slug_container__mEKwJ"><div class="slug_main__Z60A9"><article class="slug_article__bvmhe"><div itemScope="" class="ArticleHeader_header__container__rB6r3"><a class="ArticleHeader_post__title__2kJMT" href="/archives/2019-11-18-abc132-e">Hopscotch Addict</a><p>グラフの構築</p><div class="ArticleHeader_flex__HuW5L"><div class="ArticleHeader_post__tags__xNlWQ"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="tags" class="svg-inline--fa fa-tags ArticleHeader_tags__icon__U0ED6" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M345 39.1L472.8 168.4c52.4 53 52.4 138.2 0 191.2L360.8 472.9c-9.3 9.4-24.5 9.5-33.9 .2s-9.5-24.5-.2-33.9L438.6 325.9c33.9-34.3 33.9-89.4 0-123.7L310.9 72.9c-9.3-9.4-9.2-24.6 .2-33.9s24.6-9.2 33.9 .2zM0 229.5V80C0 53.5 21.5 32 48 32H197.5c17 0 33.3 6.7 45.3 18.7l168 168c25 25 25 65.5 0 90.5L277.3 442.7c-25 25-65.5 25-90.5 0l-168-168C6.7 262.7 0 246.5 0 229.5zM144 144a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"></path></svg><p class="Tag_tag__zyzRy">AtCoder</p><p class="Tag_tag__zyzRy">Graph</p></div><div class="ArticleHeader_post__dates__xh42y"><time dateTime="2019-11-18" itemProp="datePublished" class="PublishDate_post__date___a8_6">published: <!-- -->2019-11-18</time><time dateTime="2021-10-14" itemProp="datePublished" class="PublishDate_post__date___a8_6">updated: 2021-10-14</time></div></div></div><div class="slug_article__body__Y96pa"><h2 id="abc132-e-hopscotch-addict"><a href="#abc132-e-hopscotch-addict"><a href="https://atcoder.jp/contests/abc132/tasks/abc132_e" rel="nofollow">ABC132-E Hopscotch Addict</a></a></h2>
<h3 id="概要"><a href="#概要">概要</a></h3>
<p>有向グラフ<code>G(N, M)</code>が与えられ, グラフ上を一度の移動で3頂点進む. 頂点Sから頂点Tまで移動できる場合の最短経路を求める.</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo>≤</mo><mi>N</mi><mo>≤</mo><msup><mn>10</mn><mn>5</mn></msup><mo separator="true">,</mo><mn>0</mn><mo>≤</mo><mi>M</mi><mo>≤</mo><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><msup><mn>10</mn><mn>5</mn></msup><mo separator="true">,</mo><mi>N</mi><mo stretchy="false">(</mo><mi>N</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">2 \leq N \leq 10^5, 0 \leq M \leq min(10^5, N(N-1))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0085em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal">min</span><span class="mopen">(</span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">))</span></span></span></span></p>
<h3 id="考察"><a href="#考察">考察</a></h3>
<p>頂点Sから頂点Tの経路かつ経路長が3の倍数であるもののうち, 最短のものを求めたい.
長さが3の倍数であるという制約を扱うために, 以下のようにグラフに遷移状態をもたせる.</p>
<div class="graph-wrapper">
  <div class="graph">
    <div class="edge">A</div>
    <div class="node"></div>
    <div class="edge">B</div>
    <div class="node"></div>
    <div class="edge">C</div>
    <div class="node"></div>
    <div class="edge">D</div>
  </div>
</div>
<div>
  <div class="graph">
    <div class="edge">A, 0</div>
    <div class="node"></div>
    <div class="edge">B, 1</div>
    <div class="node"></div>
    <div class="edge">C, 2</div>
    <div class="node"></div>
    <div class="edge">D, 0</div>
  </div>
</div>
<p>このようにすることで<code>(A, 0) => (D, 0)</code>のパスの長さが3となる.<br>
ここで<code>D → A</code>のパスがあると仮定すると, 二週目は以下のようになる.</p>
<div class="graph-wrapper">
  <div class="graph">
    <div class="edge">D, 0</div>
    <div class="node"></div>
    <div class="edge">A, 1</div>
    <div class="node"></div>
    <div class="edge">B, 2</div>
    <div class="node"></div>
    <div class="edge">C, 0</div>
  </div>
</div>
<p>よって<code>(A, 0) => (D, 0) => (C, 0)</code>のパスが制約のもとで存在することがわかる.<br>
このようにして<code>(S, 0) => (T, 0)</code> のパスが存在するかどうかを判定すればよい.</p>
<h3 id="解答"><a href="#解答">解答</a></h3>
<p>遷移した回数を<code>v</code>として, <code>0, 1, 2, 0, 1, ...</code>の状態は <code>v % 3</code>で管理した.</p>
<div class="remark-highlight"><pre data-file="e.rs" class="language-rust line-numbers"><code class="language-rust"><span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span></span>io<span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span>collections<span class="token punctuation">::</span></span><span class="token class-name">VecDeque</span><span class="token punctuation">;</span>

<span class="token comment">/// head comment</span>
<span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token punctuation">(</span>n<span class="token punctuation">,</span> m<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">::</span><span class="token operator">&#x3C;</span><span class="token keyword">usize</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">(</span>i<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">// line comment</span>
    <span class="token keyword">let</span> <span class="token keyword">mut</span> g <span class="token operator">=</span> <span class="token macro property">vec!</span><span class="token punctuation">[</span><span class="token class-name">Vec</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> n<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token number">0</span><span class="token punctuation">..</span>m <span class="token punctuation">{</span>
        <span class="token keyword">let</span> <span class="token punctuation">(</span>u<span class="token punctuation">,</span> v<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">::</span><span class="token operator">&#x3C;</span><span class="token keyword">usize</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">(</span>i<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> i<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        g<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> <span class="token punctuation">(</span>s<span class="token punctuation">,</span> t<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">::</span><span class="token operator">&#x3C;</span><span class="token keyword">usize</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">(</span>i<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> i<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> <span class="token keyword">mut</span> que <span class="token operator">=</span> <span class="token class-name">VecDeque</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> <span class="token keyword">mut</span> dist <span class="token operator">=</span> <span class="token macro property">vec!</span><span class="token punctuation">[</span><span class="token macro property">vec!</span><span class="token punctuation">[</span><span class="token punctuation">::</span><span class="token namespace">std<span class="token punctuation">::</span></span><span class="token keyword">usize</span><span class="token punctuation">::</span><span class="token constant">MAX</span><span class="token punctuation">;</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span> n<span class="token punctuation">]</span><span class="token punctuation">;</span>
    que<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token keyword">let</span> <span class="token class-name">Some</span><span class="token punctuation">(</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">=</span> que<span class="token punctuation">.</span><span class="token function">pop_front</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> dist<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>v <span class="token operator">%</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token punctuation">::</span><span class="token namespace">std<span class="token punctuation">::</span></span><span class="token keyword">usize</span><span class="token punctuation">::</span><span class="token constant">MAX</span> <span class="token punctuation">{</span> <span class="token keyword">continue</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        dist<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>v <span class="token operator">%</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">;</span>

        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token number">0</span><span class="token punctuation">..</span>g<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">len</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> vv <span class="token operator">=</span> g<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            que<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token punctuation">(</span>vv<span class="token punctuation">,</span> v <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> dist<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token punctuation">::</span><span class="token namespace">std<span class="token punctuation">::</span></span><span class="token keyword">usize</span><span class="token punctuation">::</span><span class="token constant">MAX</span> <span class="token punctuation">{</span> <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"{}"</span><span class="token punctuation">,</span> dist<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"-1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span class=""></span><span class=""></span><span class=""></span><span class=""></span><span class=""></span><span class=""></span><span class=""></span><span class=""></span><span class=""></span><span class=""></span><span class=""></span><span class=""></span><span class=""></span><span class=""></span><span class=""></span><span class=""></span><span class=""></span><span class=""></span><span class=""></span><span class=""></span><span class=""></span><span class=""></span><span class=""></span><span class=""></span><span class=""></span><span class=""></span><span class=""></span><span class=""></span><span class=""></span><span class=""></span><span class=""></span><span class=""></span><span class=""></span><span class=""></span><span class=""></span><span class=""></span><span class=""></span><span class=""></span><span class=""></span><span class=""></span></span>
</code></pre></div>
<style>
.graph-wrapper {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-around;
}

.graph {
  margin: 2rem 0;
  font-size: 0.8rem;
  display: flex;
  justify-content: center;
}

.graph .edge {
  position: relative;
  z-index: 0;
  background: #98971a;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  text-align: center;
  line-height: 2.5rem;
}

.graph .node {
  position: relative;
  width: 2rem;
  height: 1.2rem;
  border-bottom: 1.5px solid #7c6f64;
  text-align: center;
}
</style></div></article><div class="CommitLogs_commit_logs__5HqJt" role="log"><h2>Commits</h2><details><summary class="CommitLogs_summary__ZlqPh"><span class="CommitLogs_commit__date__m2ycj">2021-10-14 18:03:32</span><span class="CommitLogs_commit__hash__wzS9A">6ea7adc9</span><span class="CommitLogs_commit__message__q7MGV">add graph &amp; styling</span></summary><div><div class="remark-highlight"><pre data-file="6ea7adc9.patch" class="language-git language-diff"><code class="language-git"><span class="token commit-sha1">commit 6ea7adc9d04f6d7a20a65ddc13452e154e8d4ecb</span>
Author: koka &#x26;<a href="mailto:lt;koka.code@gmail.com" class="token email-link">lt;koka.code@gmail.com</a>&#x26;gt;
Date:   Thu Oct 14 18:03:32 2021 +0900

  add graph &#x26; styling

diff --git a/_posts/2019-11-18-abc132-e.md b/_posts/2019-11-18-abc132-e.md
index 24e3449..83fd070 100644
<span class="token deleted">--- a/_posts/2019-11-18-abc132-e.md</span>
<span class="token inserted">+++ b/_posts/2019-11-18-abc132-e.md</span>
@@ -20,39 +20,43 @@ $$2 \leq N \leq 10^5, 0 \leq M \leq min(10^5, N(N-1))$$
頂点Sから頂点Tの経路かつ経路長が3の倍数であるもののうち, 最短のものを求めたい.
長さが3の倍数であるという制約を扱うために, 以下のようにグラフに遷移状態をもたせる.

<span class="token deleted">-\```html</span>
<span class="token deleted">-&#x26;lt;div class="graph"&#x26;gt;</span>
<span class="token deleted">-  &#x26;lt;div class="edge"&#x26;gt;A&#x26;lt;/div&#x26;gt;</span>
<span class="token deleted">-    &#x26;lt;div class="node" /&#x26;gt;</span>
<span class="token deleted">-  &#x26;lt;div class="edge"&#x26;gt;B&#x26;lt;/div&#x26;gt;</span>
<span class="token deleted">-    &#x26;lt;div class="node" /&#x26;gt;</span>
<span class="token deleted">-  &#x26;lt;div class="edge"&#x26;gt;C&#x26;lt;/div&#x26;gt;</span>
<span class="token deleted">-    &#x26;lt;div class="node" /&#x26;gt;</span>
<span class="token deleted">-  &#x26;lt;div class="edge"&#x26;gt;D&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+&#x26;lt;div class="graph-wrapper"&#x26;gt;</span>
<span class="token inserted">+  &#x26;lt;div class="graph"&#x26;gt;</span>
<span class="token inserted">+    &#x26;lt;div class="edge"&#x26;gt;A&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+    &#x26;lt;div class="node"&#x26;gt;&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+    &#x26;lt;div class="edge"&#x26;gt;B&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+    &#x26;lt;div class="node"&#x26;gt;&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+    &#x26;lt;div class="edge"&#x26;gt;C&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+    &#x26;lt;div class="node"&#x26;gt;&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+    &#x26;lt;div class="edge"&#x26;gt;D&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+  &#x26;lt;/div&#x26;gt;</span>
&#x26;lt;/div&#x26;gt;

<span class="token deleted">-&#x26;lt;div class="graph"&#x26;gt;</span>
<span class="token deleted">-  &#x26;lt;div class="edge"&#x26;gt;A, 0&#x26;lt;/div&#x26;gt;</span>
<span class="token deleted">-    &#x26;lt;div class="node" /&#x26;gt;</span>
<span class="token deleted">-  &#x26;lt;div class="edge"&#x26;gt;B, 1&#x26;lt;/div&#x26;gt;</span>
<span class="token deleted">-    &#x26;lt;div class="node" /&#x26;gt;</span>
<span class="token deleted">-  &#x26;lt;div class="edge"&#x26;gt;C, 2&#x26;lt;/div&#x26;gt;</span>
<span class="token deleted">-    &#x26;lt;div class="node" /&#x26;gt;</span>
<span class="token deleted">-  &#x26;lt;div class="edge"&#x26;gt;D, 0&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+&#x26;lt;div&#x26;gt;</span>
<span class="token inserted">+  &#x26;lt;div class="graph"&#x26;gt;</span>
<span class="token inserted">+    &#x26;lt;div class="edge"&#x26;gt;A, 0&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+    &#x26;lt;div class="node"&#x26;gt;&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+    &#x26;lt;div class="edge"&#x26;gt;B, 1&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+    &#x26;lt;div class="node"&#x26;gt;&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+    &#x26;lt;div class="edge"&#x26;gt;C, 2&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+    &#x26;lt;div class="node"&#x26;gt;&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+    &#x26;lt;div class="edge"&#x26;gt;D, 0&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+  &#x26;lt;/div&#x26;gt;</span>
&#x26;lt;/div&#x26;gt;
<span class="token deleted">-\```</span>

このようにすることで`(A, 0) =&#x26;gt; (D, 0)`のパスの長さが3となる.  
ここで`D → A`のパスがあると仮定すると, 二週目は以下のようになる.

<span class="token deleted">-&#x26;lt;div class="graph"&#x26;gt;</span>
<span class="token deleted">-  &#x26;lt;div class="edge"&#x26;gt;D, 0&#x26;lt;/div&#x26;gt;</span>
<span class="token deleted">-    &#x26;lt;div class="node" /&#x26;gt;</span>
<span class="token deleted">-  &#x26;lt;div class="edge"&#x26;gt;A, 1&#x26;lt;/div&#x26;gt;</span>
<span class="token deleted">-    &#x26;lt;div class="node" /&#x26;gt;</span>
<span class="token deleted">-  &#x26;lt;div class="edge"&#x26;gt;B, 2&#x26;lt;/div&#x26;gt;</span>
<span class="token deleted">-    &#x26;lt;div class="node" /&#x26;gt;</span>
<span class="token deleted">-  &#x26;lt;div class="edge"&#x26;gt;C, 0&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+&#x26;lt;div class="graph-wrapper"&#x26;gt;</span>
<span class="token inserted">+  &#x26;lt;div class="graph"&#x26;gt;</span>
<span class="token inserted">+    &#x26;lt;div class="edge"&#x26;gt;D, 0&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+    &#x26;lt;div class="node"&#x26;gt;&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+    &#x26;lt;div class="edge"&#x26;gt;A, 1&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+    &#x26;lt;div class="node"&#x26;gt;&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+    &#x26;lt;div class="edge"&#x26;gt;B, 2&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+    &#x26;lt;div class="node"&#x26;gt;&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+    &#x26;lt;div class="edge"&#x26;gt;C, 0&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+  &#x26;lt;/div&#x26;gt;</span>
&#x26;lt;/div&#x26;gt;

よって`(A, 0) =&#x26;gt; (D, 0) =&#x26;gt; (C, 0)`のパスが制約のもとで存在することがわかる.  
@@ -103,3 +107,37 @@ fn main() {
   else { println!(<span class="token string">"-1"</span>); }
}
\```
<span class="token inserted">+</span>
<span class="token inserted">+&#x26;lt;style&#x26;gt;</span>
<span class="token inserted">+.graph-wrapper {</span>
<span class="token inserted">+  display: flex;</span>
<span class="token inserted">+  flex-wrap: wrap;</span>
<span class="token inserted">+  justify-content: space-around;</span>
<span class="token inserted">+}</span>
<span class="token inserted">+</span>
<span class="token inserted">+.graph {</span>
<span class="token inserted">+  margin: 2rem 0;</span>
<span class="token inserted">+  font-size: 0.8rem;</span>
<span class="token inserted">+  display: flex;</span>
<span class="token inserted">+  justify-content: center;</span>
<span class="token inserted">+}</span>
<span class="token inserted">+</span>
<span class="token inserted">+.graph .edge {</span>
<span class="token inserted">+  position: relative;</span>
<span class="token inserted">+  z-index: 0;</span>
<span class="token inserted">+  background: #98971a;</span>
<span class="token inserted">+  width: 2.5rem;</span>
<span class="token inserted">+  height: 2.5rem;</span>
<span class="token inserted">+  border-radius: 50%;</span>
<span class="token inserted">+  text-align: center;</span>
<span class="token inserted">+  line-height: 2.5rem;</span>
<span class="token inserted">+}</span>
<span class="token inserted">+</span>
<span class="token inserted">+.graph .node {</span>
<span class="token inserted">+  position: relative;</span>
<span class="token inserted">+  width: 2rem;</span>
<span class="token inserted">+  height: 1.2rem;</span>
<span class="token inserted">+  border-bottom: 1.5px solid #7c6f64;</span>
<span class="token inserted">+  text-align: center;</span>
<span class="token inserted">+}</span>
<span class="token inserted">+&#x26;lt;/style&#x26;gt;</span>
</code></pre></div></div></details><details><summary class="CommitLogs_summary__ZlqPh"><span class="CommitLogs_commit__date__m2ycj">2021-03-05 18:48:41</span><span class="CommitLogs_commit__hash__wzS9A">70a0aff5</span><span class="CommitLogs_commit__message__q7MGV">wip</span></summary><div><div class="remark-highlight"><pre data-file="70a0aff5.patch" class="language-git language-diff"><code class="language-git"><span class="token commit-sha1">commit 70a0aff5a83d4332a8c3ccff3d2d3c1c84e46ef2</span>
Author: koka &#x26;<a href="mailto:lt;koka.code@gmail.com" class="token email-link">lt;koka.code@gmail.com</a>&#x26;gt;
Date:   Fri Mar 5 18:48:41 2021 +0900

  wip

diff --git a/_posts/2019-11-18-abc132-e.md b/_posts/2019-11-18-abc132-e.md
index 4a2e5c1..24e3449 100644
<span class="token deleted">--- a/_posts/2019-11-18-abc132-e.md</span>
<span class="token inserted">+++ b/_posts/2019-11-18-abc132-e.md</span>
@@ -14,12 +14,34 @@ description: グラフの構築
<span class="token comment">### 概要</span>
有向グラフ`G(N, M)`が与えられ, グラフ上を一度の移動で3頂点進む. 頂点Sから頂点Tまで移動できる場合の最短経路を求める.

<span class="token deleted">-$2 \leq N \leq 10^5, 0 \leq M \leq min(10^5, N(N-1))$</span>
<span class="token inserted">+$$2 \leq N \leq 10^5, 0 \leq M \leq min(10^5, N(N-1))$$</span>

<span class="token comment">### 考察</span>
頂点Sから頂点Tの経路かつ経路長が3の倍数であるもののうち, 最短のものを求めたい.
長さが3の倍数であるという制約を扱うために, 以下のようにグラフに遷移状態をもたせる.

<span class="token inserted">+\```html</span>
<span class="token inserted">+&#x26;lt;div class="graph"&#x26;gt;</span>
<span class="token inserted">+  &#x26;lt;div class="edge"&#x26;gt;A&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+    &#x26;lt;div class="node" /&#x26;gt;</span>
<span class="token inserted">+  &#x26;lt;div class="edge"&#x26;gt;B&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+    &#x26;lt;div class="node" /&#x26;gt;</span>
<span class="token inserted">+  &#x26;lt;div class="edge"&#x26;gt;C&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+    &#x26;lt;div class="node" /&#x26;gt;</span>
<span class="token inserted">+  &#x26;lt;div class="edge"&#x26;gt;D&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+</span>
<span class="token inserted">+&#x26;lt;div class="graph"&#x26;gt;</span>
<span class="token inserted">+  &#x26;lt;div class="edge"&#x26;gt;A, 0&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+    &#x26;lt;div class="node" /&#x26;gt;</span>
<span class="token inserted">+  &#x26;lt;div class="edge"&#x26;gt;B, 1&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+    &#x26;lt;div class="node" /&#x26;gt;</span>
<span class="token inserted">+  &#x26;lt;div class="edge"&#x26;gt;C, 2&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+    &#x26;lt;div class="node" /&#x26;gt;</span>
<span class="token inserted">+  &#x26;lt;div class="edge"&#x26;gt;D, 0&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+\```</span>
<span class="token inserted">+</span>
このようにすることで`(A, 0) =&#x26;gt; (D, 0)`のパスの長さが3となる.  
ここで`D → A`のパスがあると仮定すると, 二週目は以下のようになる.
</code></pre></div></div></details><details><summary class="CommitLogs_summary__ZlqPh"><span class="CommitLogs_commit__date__m2ycj">2021-02-15 00:35:55</span><span class="CommitLogs_commit__hash__wzS9A">2716e36b</span><span class="CommitLogs_commit__message__q7MGV">remove old</span></summary><div><div class="remark-highlight"><pre data-file="2716e36b.patch" class="language-git language-diff"><code class="language-git"><span class="token commit-sha1">commit 2716e36b1d32e442f2826e8a1946a44400ca8bdf</span>
Author: koka &#x26;<a href="mailto:lt;koka.code@gmail.com" class="token email-link">lt;koka.code@gmail.com</a>&#x26;gt;
Date:   Mon Feb 15 00:35:55 2021 +0900

  remove old

diff --git a/_posts/2019-11-18-abc132-e.md b/_posts/2019-11-18-abc132-e.md
index a107a9d..4a2e5c1 100644
<span class="token deleted">--- a/_posts/2019-11-18-abc132-e.md</span>
<span class="token inserted">+++ b/_posts/2019-11-18-abc132-e.md</span>
@@ -20,26 +20,6 @@ $2 \leq N \leq 10^5, 0 \leq M \leq min(10^5, N(N-1))$
頂点Sから頂点Tの経路かつ経路長が3の倍数であるもののうち, 最短のものを求めたい.
長さが3の倍数であるという制約を扱うために, 以下のようにグラフに遷移状態をもたせる.

<span class="token deleted">-&#x26;lt;div class="graph"&#x26;gt;</span>
<span class="token deleted">-  &#x26;lt;div class="edge"&#x26;gt;A&#x26;lt;/div&#x26;gt;</span>
<span class="token deleted">-    &#x26;lt;div class="node" /&#x26;gt;</span>
<span class="token deleted">-  &#x26;lt;div class="edge"&#x26;gt;B&#x26;lt;/div&#x26;gt;</span>
<span class="token deleted">-    &#x26;lt;div class="node" /&#x26;gt;</span>
<span class="token deleted">-  &#x26;lt;div class="edge"&#x26;gt;C&#x26;lt;/div&#x26;gt;</span>
<span class="token deleted">-    &#x26;lt;div class="node" /&#x26;gt;</span>
<span class="token deleted">-  &#x26;lt;div class="edge"&#x26;gt;D&#x26;lt;/div&#x26;gt;</span>
<span class="token deleted">-&#x26;lt;/div&#x26;gt;</span>
<span class="token deleted">-</span>
<span class="token deleted">-&#x26;lt;div class="graph"&#x26;gt;</span>
<span class="token deleted">-  &#x26;lt;div class="edge"&#x26;gt;A, 0&#x26;lt;/div&#x26;gt;</span>
<span class="token deleted">-    &#x26;lt;div class="node" /&#x26;gt;</span>
<span class="token deleted">-  &#x26;lt;div class="edge"&#x26;gt;B, 1&#x26;lt;/div&#x26;gt;</span>
<span class="token deleted">-    &#x26;lt;div class="node" /&#x26;gt;</span>
<span class="token deleted">-  &#x26;lt;div class="edge"&#x26;gt;C, 2&#x26;lt;/div&#x26;gt;</span>
<span class="token deleted">-    &#x26;lt;div class="node" /&#x26;gt;</span>
<span class="token deleted">-  &#x26;lt;div class="edge"&#x26;gt;D, 0&#x26;lt;/div&#x26;gt;</span>
<span class="token deleted">-&#x26;lt;/div&#x26;gt;</span>
<span class="token deleted">-</span>
このようにすることで`(A, 0) =&#x26;gt; (D, 0)`のパスの長さが3となる.  
ここで`D → A`のパスがあると仮定すると, 二週目は以下のようになる.
</code></pre></div></div></details><details><summary class="CommitLogs_summary__ZlqPh"><span class="CommitLogs_commit__date__m2ycj">2021-02-15 00:34:10</span><span class="CommitLogs_commit__hash__wzS9A">bd59f09a</span><span class="CommitLogs_commit__message__q7MGV">update</span></summary><div><div class="remark-highlight"><pre data-file="bd59f09a.patch" class="language-git language-diff"><code class="language-git"><span class="token commit-sha1">commit bd59f09a33181a1f762978251b6b4d7eb0095a09</span>
Author: koka &#x26;<a href="mailto:lt;koka.code@gmail.com" class="token email-link">lt;koka.code@gmail.com</a>&#x26;gt;
Date:   Mon Feb 15 00:34:10 2021 +0900

  update

diff --git a/_posts/2019-11-18-abc132-e.md b/_posts/2019-11-18-abc132-e.md
index d07b8a9..a107a9d 100644
<span class="token deleted">--- a/_posts/2019-11-18-abc132-e.md</span>
<span class="token inserted">+++ b/_posts/2019-11-18-abc132-e.md</span>
@@ -10,11 +10,11 @@ description: グラフの構築
<span class="token deleted">---</span>

<span class="token comment">## <a href="https://atcoder.jp/contests/abc132/tasks/abc132_e" class="token md-link" rel="nofollow">ABC132-E Hopscotch Addict</a></span>
<span class="token inserted">+</span>
<span class="token comment">### 概要</span>
有向グラフ`G(N, M)`が与えられ, グラフ上を一度の移動で3頂点進む. 頂点Sから頂点Tまで移動できる場合の最短経路を求める.

<span class="token deleted">-$2 \leq N \leq 10^5$,</span>
<span class="token deleted">-$0 \leq M \leq min(10^5, N(N-1))$</span>
<span class="token inserted">+$2 \leq N \leq 10^5, 0 \leq M \leq min(10^5, N(N-1))$</span>

<span class="token comment">### 考察</span>
頂点Sから頂点Tの経路かつ経路長が3の倍数であるもののうち, 最短のものを求めたい.
@@ -59,15 +59,18 @@ $0 \leq M \leq min(10^5, N(N-1))$
<span class="token comment">### 解答</span>
遷移した回数を`v`として, `0, 1, 2, 0, 1, ...`の状態は `v % 3`で管理した.

<span class="token deleted">-\```rust</span>
<span class="token inserted">+\```rust[class="line-numbers"][data-file="e.rs"]</span>
use std::io;
use std::collections::VecDeque;

<span class="token inserted">+/// head comment</span>
fn main() {
   let (n, m) = {
       let i = read::&#x26;lt;usize&#x26;gt;();
       (i[0], i[1])
   };
<span class="token inserted">+</span>
<span class="token inserted">+    // line comment</span>
   let mut g = vec![Vec::new(); n];
   for _ in 0..m {
       let (u, v) = {
</code></pre></div></div></details><details><summary class="CommitLogs_summary__ZlqPh"><span class="CommitLogs_commit__date__m2ycj">2021-01-30 22:18:17</span><span class="CommitLogs_commit__hash__wzS9A">35b550ae</span><span class="CommitLogs_commit__message__q7MGV">copy md</span></summary><div><div class="remark-highlight"><pre data-file="35b550ae.patch" class="language-git language-diff"><code class="language-git"><span class="token commit-sha1">commit 35b550ae83af4efaeadf33471c8ca8a32c1079c8</span>
Author: koka &#x26;<a href="mailto:lt;koka.code@gmail.com" class="token email-link">lt;koka.code@gmail.com</a>&#x26;gt;
Date:   Sat Jan 30 22:18:17 2021 +0900

  copy md

diff --git a/_posts/2019-11-18-abc132-e.md b/_posts/2019-11-18-abc132-e.md
new file mode 100644
index 0000000..d07b8a9
<span class="token deleted">--- /dev/null</span>
<span class="token inserted">+++ b/_posts/2019-11-18-abc132-e.md</span>
<span class="token coord">@@ -0,0 +1,100 @@</span>
<span class="token inserted">+---</span>
<span class="token inserted">+title: 'Hopscotch Addict'</span>
<span class="token inserted">+date: 2019-11-18</span>
<span class="token inserted">+categories:</span>
<span class="token inserted">+- Competitive Programming</span>
<span class="token inserted">+tags:</span>
<span class="token inserted">+- AtCoder</span>
<span class="token inserted">+- Graph</span>
<span class="token inserted">+description: グラフの構築</span>
<span class="token inserted">+---</span>
<span class="token inserted">+</span>
<span class="token inserted">+## [ABC132-E Hopscotch Addict](https://atcoder.jp/contests/abc132/tasks/abc132_e)</span>
<span class="token inserted">+### 概要</span>
<span class="token inserted">+有向グラフ`G(N, M)`が与えられ, グラフ上を一度の移動で3頂点進む. 頂点Sから頂点Tまで移動できる場合の最短経路を求める.</span>
<span class="token inserted">+</span>
<span class="token inserted">+$2 \leq N \leq 10^5$,</span>
<span class="token inserted">+$0 \leq M \leq min(10^5, N(N-1))$</span>
<span class="token inserted">+</span>
<span class="token inserted">+### 考察</span>
<span class="token inserted">+頂点Sから頂点Tの経路かつ経路長が3の倍数であるもののうち, 最短のものを求めたい.</span>
<span class="token inserted">+長さが3の倍数であるという制約を扱うために, 以下のようにグラフに遷移状態をもたせる.</span>
<span class="token inserted">+</span>
<span class="token inserted">+&#x26;lt;div class="graph"&#x26;gt;</span>
<span class="token inserted">+  &#x26;lt;div class="edge"&#x26;gt;A&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+    &#x26;lt;div class="node" /&#x26;gt;</span>
<span class="token inserted">+  &#x26;lt;div class="edge"&#x26;gt;B&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+    &#x26;lt;div class="node" /&#x26;gt;</span>
<span class="token inserted">+  &#x26;lt;div class="edge"&#x26;gt;C&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+    &#x26;lt;div class="node" /&#x26;gt;</span>
<span class="token inserted">+  &#x26;lt;div class="edge"&#x26;gt;D&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+</span>
<span class="token inserted">+&#x26;lt;div class="graph"&#x26;gt;</span>
<span class="token inserted">+  &#x26;lt;div class="edge"&#x26;gt;A, 0&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+    &#x26;lt;div class="node" /&#x26;gt;</span>
<span class="token inserted">+  &#x26;lt;div class="edge"&#x26;gt;B, 1&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+    &#x26;lt;div class="node" /&#x26;gt;</span>
<span class="token inserted">+  &#x26;lt;div class="edge"&#x26;gt;C, 2&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+    &#x26;lt;div class="node" /&#x26;gt;</span>
<span class="token inserted">+  &#x26;lt;div class="edge"&#x26;gt;D, 0&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+</span>
<span class="token inserted">+このようにすることで`(A, 0) =&#x26;gt; (D, 0)`のパスの長さが3となる.  </span>
<span class="token inserted">+ここで`D → A`のパスがあると仮定すると, 二週目は以下のようになる.</span>
<span class="token inserted">+</span>
<span class="token inserted">+&#x26;lt;div class="graph"&#x26;gt;</span>
<span class="token inserted">+  &#x26;lt;div class="edge"&#x26;gt;D, 0&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+    &#x26;lt;div class="node" /&#x26;gt;</span>
<span class="token inserted">+  &#x26;lt;div class="edge"&#x26;gt;A, 1&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+    &#x26;lt;div class="node" /&#x26;gt;</span>
<span class="token inserted">+  &#x26;lt;div class="edge"&#x26;gt;B, 2&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+    &#x26;lt;div class="node" /&#x26;gt;</span>
<span class="token inserted">+  &#x26;lt;div class="edge"&#x26;gt;C, 0&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+&#x26;lt;/div&#x26;gt;</span>
<span class="token inserted">+</span>
<span class="token inserted">+よって`(A, 0) =&#x26;gt; (D, 0) =&#x26;gt; (C, 0)`のパスが制約のもとで存在することがわかる.  </span>
<span class="token inserted">+このようにして`(S, 0) =&#x26;gt; (T, 0)` のパスが存在するかどうかを判定すればよい.</span>
<span class="token inserted">+</span>
<span class="token inserted">+### 解答</span>
<span class="token inserted">+遷移した回数を`v`として, `0, 1, 2, 0, 1, ...`の状態は `v % 3`で管理した.</span>
<span class="token inserted">+</span>
<span class="token inserted">+\```rust</span>
<span class="token inserted">+use std::io;</span>
<span class="token inserted">+use std::collections::VecDeque;</span>
<span class="token inserted">+</span>
<span class="token inserted">+fn main() {</span>
<span class="token inserted">+    let (n, m) = {</span>
<span class="token inserted">+        let i = read::&#x26;lt;usize&#x26;gt;();</span>
<span class="token inserted">+        (i[0], i[1])</span>
<span class="token inserted">+    };</span>
<span class="token inserted">+    let mut g = vec![Vec::new(); n];</span>
<span class="token inserted">+    for _ in 0..m {</span>
<span class="token inserted">+        let (u, v) = {</span>
<span class="token inserted">+            let i = read::&#x26;lt;usize&#x26;gt;();</span>
<span class="token inserted">+            (i[0] - 1, i[1] - 1)</span>
<span class="token inserted">+        };</span>
<span class="token inserted">+        g[u].push(v);</span>
<span class="token inserted">+    }</span>
<span class="token inserted">+    let (s, t) = {</span>
<span class="token inserted">+        let i = read::&#x26;lt;usize&#x26;gt;();</span>
<span class="token inserted">+        (i[0] - 1, i[1] - 1)</span>
<span class="token inserted">+    };</span>
<span class="token inserted">+</span>
<span class="token inserted">+    let mut que = VecDeque::new();</span>
<span class="token inserted">+    let mut dist = vec![vec![::std::usize::MAX; 3]; n];</span>
<span class="token inserted">+    que.push_back((s, 0));</span>
<span class="token inserted">+    while let Some((u, v)) = que.pop_front() {</span>
<span class="token inserted">+        if dist[u][v % 3] != ::std::usize::MAX { continue; }</span>
<span class="token inserted">+        dist[u][v % 3] = v;</span>
<span class="token inserted">+</span>
<span class="token inserted">+        for i in 0..g[u].len() {</span>
<span class="token inserted">+            let vv = g[u][i];</span>
<span class="token inserted">+            que.push_back((vv, v + 1));</span>
<span class="token inserted">+        }</span>
<span class="token inserted">+    }</span>
<span class="token inserted">+</span>
<span class="token inserted">+    if dist[t][0] != ::std::usize::MAX { println!("{}", dist[t][0] / 3); }</span>
<span class="token inserted">+    else { println!("-1"); }</span>
<span class="token inserted">+}</span>
<span class="token inserted">+\```</span>
</code></pre></div></div></details></div><div class="Comments_comment__S1sQU" role="comment"><h2 class="Comments_title__494X3">Comments</h2><div id="github-comment-container"></div></div></div><aside class="slug_aside__Ow2nH"><nav class="Toc_toc__nav__MM10v" role="navigation"><ul class="Toc_toc__f9CQa"></ul></nav></aside></div></main><footer class="Footer_footer__UaG1g"><small>Code snippets licensed under MIT, unless otherwise noted.</small></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"slug":"2019-11-18-abc132-e","title":"Hopscotch Addict","categories":["Competitive Programming"],"image":"https://koka831.github.io/img/icon.png","tags":["AtCoder","Graph"],"content":"\u003ch2 id=\"abc132-e-hopscotch-addict\"\u003e\u003ca href=\"#abc132-e-hopscotch-addict\"\u003e\u003ca href=\"https://atcoder.jp/contests/abc132/tasks/abc132_e\" rel=\"nofollow\"\u003eABC132-E Hopscotch Addict\u003c/a\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003ch3 id=\"概要\"\u003e\u003ca href=\"#概要\"\u003e概要\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003e有向グラフ\u003ccode\u003eG(N, M)\u003c/code\u003eが与えられ, グラフ上を一度の移動で3頂点進む. 頂点Sから頂点Tまで移動できる場合の最短経路を求める.\u003c/p\u003e\n\u003cp\u003e\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmn\u003e2\u003c/mn\u003e\u003cmo\u003e≤\u003c/mo\u003e\u003cmi\u003eN\u003c/mi\u003e\u003cmo\u003e≤\u003c/mo\u003e\u003cmsup\u003e\u003cmn\u003e10\u003c/mn\u003e\u003cmn\u003e5\u003c/mn\u003e\u003c/msup\u003e\u003cmo separator=\"true\"\u003e,\u003c/mo\u003e\u003cmn\u003e0\u003c/mn\u003e\u003cmo\u003e≤\u003c/mo\u003e\u003cmi\u003eM\u003c/mi\u003e\u003cmo\u003e≤\u003c/mo\u003e\u003cmi\u003em\u003c/mi\u003e\u003cmi\u003ei\u003c/mi\u003e\u003cmi\u003en\u003c/mi\u003e\u003cmo stretchy=\"false\"\u003e(\u003c/mo\u003e\u003cmsup\u003e\u003cmn\u003e10\u003c/mn\u003e\u003cmn\u003e5\u003c/mn\u003e\u003c/msup\u003e\u003cmo separator=\"true\"\u003e,\u003c/mo\u003e\u003cmi\u003eN\u003c/mi\u003e\u003cmo stretchy=\"false\"\u003e(\u003c/mo\u003e\u003cmi\u003eN\u003c/mi\u003e\u003cmo\u003e−\u003c/mo\u003e\u003cmn\u003e1\u003c/mn\u003e\u003cmo stretchy=\"false\"\u003e)\u003c/mo\u003e\u003cmo stretchy=\"false\"\u003e)\u003c/mo\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003e2 \\leq N \\leq 10^5, 0 \\leq M \\leq min(10^5, N(N-1))\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.7804em;vertical-align:-0.136em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e2\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e≤\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.8193em;vertical-align:-0.136em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.10903em;\"\u003eN\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e≤\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:1.0085em;vertical-align:-0.1944em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e1\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord\"\u003e0\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.8141em;\"\u003e\u003cspan style=\"top:-3.063em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e5\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mpunct\"\u003e,\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.1667em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e0\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e≤\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.8193em;vertical-align:-0.136em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.10903em;\"\u003eM\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e≤\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003emin\u003c/span\u003e\u003cspan class=\"mopen\"\u003e(\u003c/span\u003e\u003cspan class=\"mord\"\u003e1\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord\"\u003e0\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.8141em;\"\u003e\u003cspan style=\"top:-3.063em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e5\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mpunct\"\u003e,\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.1667em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.10903em;\"\u003eN\u003c/span\u003e\u003cspan class=\"mopen\"\u003e(\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.10903em;\"\u003eN\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2222em;\"\u003e\u003c/span\u003e\u003cspan class=\"mbin\"\u003e−\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2222em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e1\u003c/span\u003e\u003cspan class=\"mclose\"\u003e))\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/p\u003e\n\u003ch3 id=\"考察\"\u003e\u003ca href=\"#考察\"\u003e考察\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003e頂点Sから頂点Tの経路かつ経路長が3の倍数であるもののうち, 最短のものを求めたい.\n長さが3の倍数であるという制約を扱うために, 以下のようにグラフに遷移状態をもたせる.\u003c/p\u003e\n\u003cdiv class=\"graph-wrapper\"\u003e\n  \u003cdiv class=\"graph\"\u003e\n    \u003cdiv class=\"edge\"\u003eA\u003c/div\u003e\n    \u003cdiv class=\"node\"\u003e\u003c/div\u003e\n    \u003cdiv class=\"edge\"\u003eB\u003c/div\u003e\n    \u003cdiv class=\"node\"\u003e\u003c/div\u003e\n    \u003cdiv class=\"edge\"\u003eC\u003c/div\u003e\n    \u003cdiv class=\"node\"\u003e\u003c/div\u003e\n    \u003cdiv class=\"edge\"\u003eD\u003c/div\u003e\n  \u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv\u003e\n  \u003cdiv class=\"graph\"\u003e\n    \u003cdiv class=\"edge\"\u003eA, 0\u003c/div\u003e\n    \u003cdiv class=\"node\"\u003e\u003c/div\u003e\n    \u003cdiv class=\"edge\"\u003eB, 1\u003c/div\u003e\n    \u003cdiv class=\"node\"\u003e\u003c/div\u003e\n    \u003cdiv class=\"edge\"\u003eC, 2\u003c/div\u003e\n    \u003cdiv class=\"node\"\u003e\u003c/div\u003e\n    \u003cdiv class=\"edge\"\u003eD, 0\u003c/div\u003e\n  \u003c/div\u003e\n\u003c/div\u003e\n\u003cp\u003eこのようにすることで\u003ccode\u003e(A, 0) =\u003e (D, 0)\u003c/code\u003eのパスの長さが3となる.\u003cbr\u003e\nここで\u003ccode\u003eD → A\u003c/code\u003eのパスがあると仮定すると, 二週目は以下のようになる.\u003c/p\u003e\n\u003cdiv class=\"graph-wrapper\"\u003e\n  \u003cdiv class=\"graph\"\u003e\n    \u003cdiv class=\"edge\"\u003eD, 0\u003c/div\u003e\n    \u003cdiv class=\"node\"\u003e\u003c/div\u003e\n    \u003cdiv class=\"edge\"\u003eA, 1\u003c/div\u003e\n    \u003cdiv class=\"node\"\u003e\u003c/div\u003e\n    \u003cdiv class=\"edge\"\u003eB, 2\u003c/div\u003e\n    \u003cdiv class=\"node\"\u003e\u003c/div\u003e\n    \u003cdiv class=\"edge\"\u003eC, 0\u003c/div\u003e\n  \u003c/div\u003e\n\u003c/div\u003e\n\u003cp\u003eよって\u003ccode\u003e(A, 0) =\u003e (D, 0) =\u003e (C, 0)\u003c/code\u003eのパスが制約のもとで存在することがわかる.\u003cbr\u003e\nこのようにして\u003ccode\u003e(S, 0) =\u003e (T, 0)\u003c/code\u003e のパスが存在するかどうかを判定すればよい.\u003c/p\u003e\n\u003ch3 id=\"解答\"\u003e\u003ca href=\"#解答\"\u003e解答\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003e遷移した回数を\u003ccode\u003ev\u003c/code\u003eとして, \u003ccode\u003e0, 1, 2, 0, 1, ...\u003c/code\u003eの状態は \u003ccode\u003ev % 3\u003c/code\u003eで管理した.\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre data-file=\"e.rs\" class=\"language-rust line-numbers\"\u003e\u003ccode class=\"language-rust\"\u003e\u003cspan class=\"token keyword\"\u003euse\u003c/span\u003e \u003cspan class=\"token namespace\"\u003estd\u003cspan class=\"token punctuation\"\u003e::\u003c/span\u003e\u003c/span\u003eio\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003euse\u003c/span\u003e \u003cspan class=\"token namespace\"\u003estd\u003cspan class=\"token punctuation\"\u003e::\u003c/span\u003ecollections\u003cspan class=\"token punctuation\"\u003e::\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eVecDeque\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e/// head comment\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003efn\u003c/span\u003e \u003cspan class=\"token function-definition function\"\u003emain\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003en\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e m\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e i \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003eread\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e::\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eusize\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ei\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e i\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"token comment\"\u003e// line comment\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e \u003cspan class=\"token keyword\"\u003emut\u003c/span\u003e g \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token macro property\"\u003evec!\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eVec\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e::\u003c/span\u003e\u003cspan class=\"token function\"\u003enew\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e n\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003efor\u003c/span\u003e _ \u003cspan class=\"token keyword\"\u003ein\u003c/span\u003e \u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e..\u003c/span\u003em \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eu\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e v\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e i \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003eread\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e::\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eusize\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ei\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e i\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n        g\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003eu\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003epush\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ev\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003es\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e t\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e i \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003eread\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e::\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eusize\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ei\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e i\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e \u003cspan class=\"token keyword\"\u003emut\u003c/span\u003e que \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eVecDeque\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e::\u003c/span\u003e\u003cspan class=\"token function\"\u003enew\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e \u003cspan class=\"token keyword\"\u003emut\u003c/span\u003e dist \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token macro property\"\u003evec!\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token macro property\"\u003evec!\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e::\u003c/span\u003e\u003cspan class=\"token namespace\"\u003estd\u003cspan class=\"token punctuation\"\u003e::\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eusize\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e::\u003c/span\u003e\u003cspan class=\"token constant\"\u003eMAX\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token number\"\u003e3\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e n\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    que\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003epush_back\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003es\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003ewhile\u003c/span\u003e \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eSome\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eu\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e v\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e que\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003epop_front\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e dist\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003eu\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ev \u003cspan class=\"token operator\"\u003e%\u003c/span\u003e \u003cspan class=\"token number\"\u003e3\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e!=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e::\u003c/span\u003e\u003cspan class=\"token namespace\"\u003estd\u003cspan class=\"token punctuation\"\u003e::\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eusize\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e::\u003c/span\u003e\u003cspan class=\"token constant\"\u003eMAX\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e \u003cspan class=\"token keyword\"\u003econtinue\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n        dist\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003eu\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ev \u003cspan class=\"token operator\"\u003e%\u003c/span\u003e \u003cspan class=\"token number\"\u003e3\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e v\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n        \u003cspan class=\"token keyword\"\u003efor\u003c/span\u003e i \u003cspan class=\"token keyword\"\u003ein\u003c/span\u003e \u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e..\u003c/span\u003eg\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003eu\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003elen\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e vv \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e g\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003eu\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ei\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n            que\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003epush_back\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003evv\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e v \u003cspan class=\"token operator\"\u003e+\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e dist\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003et\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e!=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e::\u003c/span\u003e\u003cspan class=\"token namespace\"\u003estd\u003cspan class=\"token punctuation\"\u003e::\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eusize\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e::\u003c/span\u003e\u003cspan class=\"token constant\"\u003eMAX\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e \u003cspan class=\"token macro property\"\u003eprintln!\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"{}\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e dist\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003et\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e/\u003c/span\u003e \u003cspan class=\"token number\"\u003e3\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003eelse\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e \u003cspan class=\"token macro property\"\u003eprintln!\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"-1\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan aria-hidden=\"true\" class=\"line-numbers-rows\"\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003cspan class=\"\"\u003e\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cstyle\u003e\n.graph-wrapper {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n}\n\n.graph {\n  margin: 2rem 0;\n  font-size: 0.8rem;\n  display: flex;\n  justify-content: center;\n}\n\n.graph .edge {\n  position: relative;\n  z-index: 0;\n  background: #98971a;\n  width: 2.5rem;\n  height: 2.5rem;\n  border-radius: 50%;\n  text-align: center;\n  line-height: 2.5rem;\n}\n\n.graph .node {\n  position: relative;\n  width: 2rem;\n  height: 1.2rem;\n  border-bottom: 1.5px solid #7c6f64;\n  text-align: center;\n}\n\u003c/style\u003e","description":"グラフの構築","commits":[{"title":"add graph \u0026 styling","date":"2021-10-14 18:03:32","hash":"6ea7adc9","diff":"\u003cdiv class=\"remark-highlight\"\u003e\u003cpre data-file=\"6ea7adc9.patch\" class=\"language-git language-diff\"\u003e\u003ccode class=\"language-git\"\u003e\u003cspan class=\"token commit-sha1\"\u003ecommit 6ea7adc9d04f6d7a20a65ddc13452e154e8d4ecb\u003c/span\u003e\nAuthor: koka \u0026#x26;\u003ca href=\"mailto:lt;koka.code@gmail.com\" class=\"token email-link\"\u003elt;koka.code@gmail.com\u003c/a\u003e\u0026#x26;gt;\nDate:   Thu Oct 14 18:03:32 2021 +0900\n\n  add graph \u0026#x26; styling\n\ndiff --git a/_posts/2019-11-18-abc132-e.md b/_posts/2019-11-18-abc132-e.md\nindex 24e3449..83fd070 100644\n\u003cspan class=\"token deleted\"\u003e--- a/_posts/2019-11-18-abc132-e.md\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+++ b/_posts/2019-11-18-abc132-e.md\u003c/span\u003e\n@@ -20,39 +20,43 @@ $$2 \\leq N \\leq 10^5, 0 \\leq M \\leq min(10^5, N(N-1))$$\n頂点Sから頂点Tの経路かつ経路長が3の倍数であるもののうち, 最短のものを求めたい.\n長さが3の倍数であるという制約を扱うために, 以下のようにグラフに遷移状態をもたせる.\n\n\u003cspan class=\"token deleted\"\u003e-\\```html\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-\u0026#x26;lt;div class=\"graph\"\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;A\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-    \u0026#x26;lt;div class=\"node\" /\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;B\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-    \u0026#x26;lt;div class=\"node\" /\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;C\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-    \u0026#x26;lt;div class=\"node\" /\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;D\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u0026#x26;lt;div class=\"graph-wrapper\"\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  \u0026#x26;lt;div class=\"graph\"\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;A\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    \u0026#x26;lt;div class=\"node\"\u0026#x26;gt;\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;B\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    \u0026#x26;lt;div class=\"node\"\u0026#x26;gt;\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;C\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    \u0026#x26;lt;div class=\"node\"\u0026#x26;gt;\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;D\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  \u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u0026#x26;lt;/div\u0026#x26;gt;\n\n\u003cspan class=\"token deleted\"\u003e-\u0026#x26;lt;div class=\"graph\"\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;A, 0\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-    \u0026#x26;lt;div class=\"node\" /\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;B, 1\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-    \u0026#x26;lt;div class=\"node\" /\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;C, 2\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-    \u0026#x26;lt;div class=\"node\" /\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;D, 0\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u0026#x26;lt;div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  \u0026#x26;lt;div class=\"graph\"\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;A, 0\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    \u0026#x26;lt;div class=\"node\"\u0026#x26;gt;\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;B, 1\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    \u0026#x26;lt;div class=\"node\"\u0026#x26;gt;\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;C, 2\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    \u0026#x26;lt;div class=\"node\"\u0026#x26;gt;\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;D, 0\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  \u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u0026#x26;lt;/div\u0026#x26;gt;\n\u003cspan class=\"token deleted\"\u003e-\\```\u003c/span\u003e\n\nこのようにすることで`(A, 0) =\u0026#x26;gt; (D, 0)`のパスの長さが3となる.  \nここで`D → A`のパスがあると仮定すると, 二週目は以下のようになる.\n\n\u003cspan class=\"token deleted\"\u003e-\u0026#x26;lt;div class=\"graph\"\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;D, 0\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-    \u0026#x26;lt;div class=\"node\" /\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;A, 1\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-    \u0026#x26;lt;div class=\"node\" /\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;B, 2\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-    \u0026#x26;lt;div class=\"node\" /\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;C, 0\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u0026#x26;lt;div class=\"graph-wrapper\"\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  \u0026#x26;lt;div class=\"graph\"\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;D, 0\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    \u0026#x26;lt;div class=\"node\"\u0026#x26;gt;\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;A, 1\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    \u0026#x26;lt;div class=\"node\"\u0026#x26;gt;\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;B, 2\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    \u0026#x26;lt;div class=\"node\"\u0026#x26;gt;\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;C, 0\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  \u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u0026#x26;lt;/div\u0026#x26;gt;\n\nよって`(A, 0) =\u0026#x26;gt; (D, 0) =\u0026#x26;gt; (C, 0)`のパスが制約のもとで存在することがわかる.  \n@@ -103,3 +107,37 @@ fn main() {\n   else { println!(\u003cspan class=\"token string\"\u003e\"-1\"\u003c/span\u003e); }\n}\n\\```\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u0026#x26;lt;style\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+.graph-wrapper {\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  display: flex;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  flex-wrap: wrap;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  justify-content: space-around;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+}\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+.graph {\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  margin: 2rem 0;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  font-size: 0.8rem;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  display: flex;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  justify-content: center;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+}\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+.graph .edge {\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  position: relative;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  z-index: 0;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  background: #98971a;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  width: 2.5rem;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  height: 2.5rem;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  border-radius: 50%;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  text-align: center;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  line-height: 2.5rem;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+}\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+.graph .node {\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  position: relative;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  width: 2rem;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  height: 1.2rem;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  border-bottom: 1.5px solid #7c6f64;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  text-align: center;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+}\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u0026#x26;lt;/style\u0026#x26;gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e"},{"title":"wip","date":"2021-03-05 18:48:41","hash":"70a0aff5","diff":"\u003cdiv class=\"remark-highlight\"\u003e\u003cpre data-file=\"70a0aff5.patch\" class=\"language-git language-diff\"\u003e\u003ccode class=\"language-git\"\u003e\u003cspan class=\"token commit-sha1\"\u003ecommit 70a0aff5a83d4332a8c3ccff3d2d3c1c84e46ef2\u003c/span\u003e\nAuthor: koka \u0026#x26;\u003ca href=\"mailto:lt;koka.code@gmail.com\" class=\"token email-link\"\u003elt;koka.code@gmail.com\u003c/a\u003e\u0026#x26;gt;\nDate:   Fri Mar 5 18:48:41 2021 +0900\n\n  wip\n\ndiff --git a/_posts/2019-11-18-abc132-e.md b/_posts/2019-11-18-abc132-e.md\nindex 4a2e5c1..24e3449 100644\n\u003cspan class=\"token deleted\"\u003e--- a/_posts/2019-11-18-abc132-e.md\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+++ b/_posts/2019-11-18-abc132-e.md\u003c/span\u003e\n@@ -14,12 +14,34 @@ description: グラフの構築\n\u003cspan class=\"token comment\"\u003e### 概要\u003c/span\u003e\n有向グラフ`G(N, M)`が与えられ, グラフ上を一度の移動で3頂点進む. 頂点Sから頂点Tまで移動できる場合の最短経路を求める.\n\n\u003cspan class=\"token deleted\"\u003e-$2 \\leq N \\leq 10^5, 0 \\leq M \\leq min(10^5, N(N-1))$\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+$$2 \\leq N \\leq 10^5, 0 \\leq M \\leq min(10^5, N(N-1))$$\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e### 考察\u003c/span\u003e\n頂点Sから頂点Tの経路かつ経路長が3の倍数であるもののうち, 最短のものを求めたい.\n長さが3の倍数であるという制約を扱うために, 以下のようにグラフに遷移状態をもたせる.\n\n\u003cspan class=\"token inserted\"\u003e+\\```html\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u0026#x26;lt;div class=\"graph\"\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;A\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    \u0026#x26;lt;div class=\"node\" /\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;B\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    \u0026#x26;lt;div class=\"node\" /\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;C\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    \u0026#x26;lt;div class=\"node\" /\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;D\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u0026#x26;lt;div class=\"graph\"\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;A, 0\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    \u0026#x26;lt;div class=\"node\" /\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;B, 1\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    \u0026#x26;lt;div class=\"node\" /\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;C, 2\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    \u0026#x26;lt;div class=\"node\" /\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;D, 0\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\\```\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\nこのようにすることで`(A, 0) =\u0026#x26;gt; (D, 0)`のパスの長さが3となる.  \nここで`D → A`のパスがあると仮定すると, 二週目は以下のようになる.\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e"},{"title":"remove old","date":"2021-02-15 00:35:55","hash":"2716e36b","diff":"\u003cdiv class=\"remark-highlight\"\u003e\u003cpre data-file=\"2716e36b.patch\" class=\"language-git language-diff\"\u003e\u003ccode class=\"language-git\"\u003e\u003cspan class=\"token commit-sha1\"\u003ecommit 2716e36b1d32e442f2826e8a1946a44400ca8bdf\u003c/span\u003e\nAuthor: koka \u0026#x26;\u003ca href=\"mailto:lt;koka.code@gmail.com\" class=\"token email-link\"\u003elt;koka.code@gmail.com\u003c/a\u003e\u0026#x26;gt;\nDate:   Mon Feb 15 00:35:55 2021 +0900\n\n  remove old\n\ndiff --git a/_posts/2019-11-18-abc132-e.md b/_posts/2019-11-18-abc132-e.md\nindex a107a9d..4a2e5c1 100644\n\u003cspan class=\"token deleted\"\u003e--- a/_posts/2019-11-18-abc132-e.md\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+++ b/_posts/2019-11-18-abc132-e.md\u003c/span\u003e\n@@ -20,26 +20,6 @@ $2 \\leq N \\leq 10^5, 0 \\leq M \\leq min(10^5, N(N-1))$\n頂点Sから頂点Tの経路かつ経路長が3の倍数であるもののうち, 最短のものを求めたい.\n長さが3の倍数であるという制約を扱うために, 以下のようにグラフに遷移状態をもたせる.\n\n\u003cspan class=\"token deleted\"\u003e-\u0026#x26;lt;div class=\"graph\"\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;A\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-    \u0026#x26;lt;div class=\"node\" /\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;B\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-    \u0026#x26;lt;div class=\"node\" /\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;C\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-    \u0026#x26;lt;div class=\"node\" /\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;D\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-\u0026#x26;lt;div class=\"graph\"\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;A, 0\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-    \u0026#x26;lt;div class=\"node\" /\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;B, 1\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-    \u0026#x26;lt;div class=\"node\" /\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;C, 2\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-    \u0026#x26;lt;div class=\"node\" /\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;D, 0\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-\u003c/span\u003e\nこのようにすることで`(A, 0) =\u0026#x26;gt; (D, 0)`のパスの長さが3となる.  \nここで`D → A`のパスがあると仮定すると, 二週目は以下のようになる.\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e"},{"title":"update","date":"2021-02-15 00:34:10","hash":"bd59f09a","diff":"\u003cdiv class=\"remark-highlight\"\u003e\u003cpre data-file=\"bd59f09a.patch\" class=\"language-git language-diff\"\u003e\u003ccode class=\"language-git\"\u003e\u003cspan class=\"token commit-sha1\"\u003ecommit bd59f09a33181a1f762978251b6b4d7eb0095a09\u003c/span\u003e\nAuthor: koka \u0026#x26;\u003ca href=\"mailto:lt;koka.code@gmail.com\" class=\"token email-link\"\u003elt;koka.code@gmail.com\u003c/a\u003e\u0026#x26;gt;\nDate:   Mon Feb 15 00:34:10 2021 +0900\n\n  update\n\ndiff --git a/_posts/2019-11-18-abc132-e.md b/_posts/2019-11-18-abc132-e.md\nindex d07b8a9..a107a9d 100644\n\u003cspan class=\"token deleted\"\u003e--- a/_posts/2019-11-18-abc132-e.md\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+++ b/_posts/2019-11-18-abc132-e.md\u003c/span\u003e\n@@ -10,11 +10,11 @@ description: グラフの構築\n\u003cspan class=\"token deleted\"\u003e---\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e## \u003ca href=\"https://atcoder.jp/contests/abc132/tasks/abc132_e\" class=\"token md-link\" rel=\"nofollow\"\u003eABC132-E Hopscotch Addict\u003c/a\u003e\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e### 概要\u003c/span\u003e\n有向グラフ`G(N, M)`が与えられ, グラフ上を一度の移動で3頂点進む. 頂点Sから頂点Tまで移動できる場合の最短経路を求める.\n\n\u003cspan class=\"token deleted\"\u003e-$2 \\leq N \\leq 10^5$,\u003c/span\u003e\n\u003cspan class=\"token deleted\"\u003e-$0 \\leq M \\leq min(10^5, N(N-1))$\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+$2 \\leq N \\leq 10^5, 0 \\leq M \\leq min(10^5, N(N-1))$\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e### 考察\u003c/span\u003e\n頂点Sから頂点Tの経路かつ経路長が3の倍数であるもののうち, 最短のものを求めたい.\n@@ -59,15 +59,18 @@ $0 \\leq M \\leq min(10^5, N(N-1))$\n\u003cspan class=\"token comment\"\u003e### 解答\u003c/span\u003e\n遷移した回数を`v`として, `0, 1, 2, 0, 1, ...`の状態は `v % 3`で管理した.\n\n\u003cspan class=\"token deleted\"\u003e-\\```rust\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\\```rust[class=\"line-numbers\"][data-file=\"e.rs\"]\u003c/span\u003e\nuse std::io;\nuse std::collections::VecDeque;\n\n\u003cspan class=\"token inserted\"\u003e+/// head comment\u003c/span\u003e\nfn main() {\n   let (n, m) = {\n       let i = read::\u0026#x26;lt;usize\u0026#x26;gt;();\n       (i[0], i[1])\n   };\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    // line comment\u003c/span\u003e\n   let mut g = vec![Vec::new(); n];\n   for _ in 0..m {\n       let (u, v) = {\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e"},{"title":"copy md","date":"2021-01-30 22:18:17","hash":"35b550ae","diff":"\u003cdiv class=\"remark-highlight\"\u003e\u003cpre data-file=\"35b550ae.patch\" class=\"language-git language-diff\"\u003e\u003ccode class=\"language-git\"\u003e\u003cspan class=\"token commit-sha1\"\u003ecommit 35b550ae83af4efaeadf33471c8ca8a32c1079c8\u003c/span\u003e\nAuthor: koka \u0026#x26;\u003ca href=\"mailto:lt;koka.code@gmail.com\" class=\"token email-link\"\u003elt;koka.code@gmail.com\u003c/a\u003e\u0026#x26;gt;\nDate:   Sat Jan 30 22:18:17 2021 +0900\n\n  copy md\n\ndiff --git a/_posts/2019-11-18-abc132-e.md b/_posts/2019-11-18-abc132-e.md\nnew file mode 100644\nindex 0000000..d07b8a9\n\u003cspan class=\"token deleted\"\u003e--- /dev/null\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+++ b/_posts/2019-11-18-abc132-e.md\u003c/span\u003e\n\u003cspan class=\"token coord\"\u003e@@ -0,0 +1,100 @@\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+---\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+title: 'Hopscotch Addict'\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+date: 2019-11-18\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+categories:\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+- Competitive Programming\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+tags:\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+- AtCoder\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+- Graph\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+description: グラフの構築\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+---\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+## [ABC132-E Hopscotch Addict](https://atcoder.jp/contests/abc132/tasks/abc132_e)\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+### 概要\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+有向グラフ`G(N, M)`が与えられ, グラフ上を一度の移動で3頂点進む. 頂点Sから頂点Tまで移動できる場合の最短経路を求める.\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+$2 \\leq N \\leq 10^5$,\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+$0 \\leq M \\leq min(10^5, N(N-1))$\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+### 考察\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+頂点Sから頂点Tの経路かつ経路長が3の倍数であるもののうち, 最短のものを求めたい.\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+長さが3の倍数であるという制約を扱うために, 以下のようにグラフに遷移状態をもたせる.\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u0026#x26;lt;div class=\"graph\"\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;A\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    \u0026#x26;lt;div class=\"node\" /\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;B\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    \u0026#x26;lt;div class=\"node\" /\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;C\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    \u0026#x26;lt;div class=\"node\" /\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;D\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u0026#x26;lt;div class=\"graph\"\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;A, 0\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    \u0026#x26;lt;div class=\"node\" /\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;B, 1\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    \u0026#x26;lt;div class=\"node\" /\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;C, 2\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    \u0026#x26;lt;div class=\"node\" /\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;D, 0\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+このようにすることで`(A, 0) =\u0026#x26;gt; (D, 0)`のパスの長さが3となる.  \u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+ここで`D → A`のパスがあると仮定すると, 二週目は以下のようになる.\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u0026#x26;lt;div class=\"graph\"\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;D, 0\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    \u0026#x26;lt;div class=\"node\" /\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;A, 1\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    \u0026#x26;lt;div class=\"node\" /\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;B, 2\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    \u0026#x26;lt;div class=\"node\" /\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  \u0026#x26;lt;div class=\"edge\"\u0026#x26;gt;C, 0\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u0026#x26;lt;/div\u0026#x26;gt;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+よって`(A, 0) =\u0026#x26;gt; (D, 0) =\u0026#x26;gt; (C, 0)`のパスが制約のもとで存在することがわかる.  \u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+このようにして`(S, 0) =\u0026#x26;gt; (T, 0)` のパスが存在するかどうかを判定すればよい.\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+### 解答\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+遷移した回数を`v`として, `0, 1, 2, 0, 1, ...`の状態は `v % 3`で管理した.\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\\```rust\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+use std::io;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+use std::collections::VecDeque;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+fn main() {\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    let (n, m) = {\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+        let i = read::\u0026#x26;lt;usize\u0026#x26;gt;();\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+        (i[0], i[1])\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    };\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    let mut g = vec![Vec::new(); n];\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    for _ in 0..m {\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+        let (u, v) = {\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+            let i = read::\u0026#x26;lt;usize\u0026#x26;gt;();\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+            (i[0] - 1, i[1] - 1)\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+        };\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+        g[u].push(v);\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    }\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    let (s, t) = {\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+        let i = read::\u0026#x26;lt;usize\u0026#x26;gt;();\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+        (i[0] - 1, i[1] - 1)\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    };\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    let mut que = VecDeque::new();\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    let mut dist = vec![vec![::std::usize::MAX; 3]; n];\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    que.push_back((s, 0));\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    while let Some((u, v)) = que.pop_front() {\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+        if dist[u][v % 3] != ::std::usize::MAX { continue; }\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+        dist[u][v % 3] = v;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+        for i in 0..g[u].len() {\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+            let vv = g[u][i];\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+            que.push_back((vv, v + 1));\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+        }\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    }\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    if dist[t][0] != ::std::usize::MAX { println!(\"{}\", dist[t][0] / 3); }\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+    else { println!(\"-1\"); }\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+}\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\\```\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e"}],"publishedAt":"2019-11-18","updatedAt":"2021-10-14"}},"__N_SSG":true},"page":"/archives/[slug]","query":{"slug":"2019-11-18-abc132-e"},"buildId":"cFpM8iTjps8Dc6EBauz9R","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>