<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8" data-next-head=""/><meta name="viewport" content="width=device-width" data-next-head=""/><meta name="theme-color" content="#ddd4bb" data-next-head=""/><meta property="og:type" content="website" data-next-head=""/><meta property="og:url" content="https://koka831.github.io" data-next-head=""/><meta property="og:site_name" content="/var/log/koka" data-next-head=""/><meta name="twitter:card" content="summary" data-next-head=""/><meta name="twitter:title" content="/var/log/koka" data-next-head=""/><meta name="twitter:site" content="@k_0ka" data-next-head=""/><meta name="twitter:description" content="cat /var/log/koka &gt; /dev/null" data-next-head=""/><link rel="alternate" type="application/rss+xml" href="https://koka831.github.io/feed.xml" title="/var/log/koka RSS2.0" data-next-head=""/><title data-next-head=""></title><meta property="title" content="Install MySQL on EC2 | /var/log/koka" data-next-head=""/><meta property="og:title" content="Install MySQL on EC2 | /var/log/koka" data-next-head=""/><meta property="twitter:title" content="Install MySQL on EC2 | /var/log/koka" data-next-head=""/><meta property="description" content="procedure memo" data-next-head=""/><meta property="og:description" content="procedure memo" data-next-head=""/><meta property="twitter:description" content="procedure memo" data-next-head=""/><meta property="og:image" content="https://koka831.github.io/img/icon.png" data-next-head=""/><link rel="preload" href="/_next/static/css/831b54b7e4e0da27.css" as="style"/><link rel="preload" href="/_next/static/css/5709b986f32934dd.css" as="style"/><link rel="stylesheet" href="/_next/static/css/831b54b7e4e0da27.css" data-n-g=""/><link rel="stylesheet" href="/_next/static/css/5709b986f32934dd.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" noModule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-8cac0b4b405cede1.js" defer=""></script><script src="/_next/static/chunks/framework-660abf7322751ffd.js" defer=""></script><script src="/_next/static/chunks/main-377c2e1464f64b47.js" defer=""></script><script src="/_next/static/chunks/pages/_app-106e057a8a85e2e7.js" defer=""></script><script src="/_next/static/chunks/98bef5de-90a314e763d10677.js" defer=""></script><script src="/_next/static/chunks/230-5443ad96548554c5.js" defer=""></script><script src="/_next/static/chunks/772-1876e7547bd02827.js" defer=""></script><script src="/_next/static/chunks/pages/archives/%5Bslug%5D-dabe6fa421217993.js" defer=""></script><script src="/_next/static/RYlNkAO9iP5wrJIS7PZpX/_buildManifest.js" defer=""></script><script src="/_next/static/RYlNkAO9iP5wrJIS7PZpX/_ssgManifest.js" defer=""></script></head><body><div id="__next"><nav class="Header_navigation__container__QTqC2"><div class="Header_navigation___WOtz"><a href="/">/var/log/koka</a></div><div><a href="/archives">archive</a></div></nav><main class="Layout_container__p0wDU"><div class="slug_container__mEKwJ"><div class="slug_main__Z60A9"><article class="slug_article__bvmhe"><div itemScope="" class="ArticleHeader_header__container__rB6r3"><a class="ArticleHeader_post__title__2kJMT" href="/archives/2019-02-20-setup_ubuntu_mysql">Install MySQL on EC2</a><p>procedure memo</p><div class="ArticleHeader_flex__HuW5L"><div class="ArticleHeader_post__tags__xNlWQ"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="tags" class="svg-inline--fa fa-tags ArticleHeader_tags__icon__U0ED6" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M345 39.1L472.8 168.4c52.4 53 52.4 138.2 0 191.2L360.8 472.9c-9.3 9.4-24.5 9.5-33.9 .2s-9.5-24.5-.2-33.9L438.6 325.9c33.9-34.3 33.9-89.4 0-123.7L310.9 72.9c-9.3-9.4-9.2-24.6 .2-33.9s24.6-9.2 33.9 .2zM0 229.5V80C0 53.5 21.5 32 48 32H197.5c17 0 33.3 6.7 45.3 18.7l168 168c25 25 25 65.5 0 90.5L277.3 442.7c-25 25-65.5 25-90.5 0l-168-168C6.7 262.7 0 246.5 0 229.5zM144 144a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"></path></svg><p class="Tag_tag__zyzRy">AWS</p><p class="Tag_tag__zyzRy">installation</p><p class="Tag_tag__zyzRy">MySQL</p></div><div class="ArticleHeader_post__dates__xh42y"><time dateTime="2019-02-20" itemProp="datePublished" class="PublishDate_post__date___a8_6">published: <!-- -->2019-02-20</time><time dateTime="2022-11-27" itemProp="datePublished" class="PublishDate_post__date___a8_6">updated: 2022-11-27</time></div></div></div><div class="slug_article__body__Y96pa"><h2 id="install-ubuntu-mysql-on-ec2"><a href="#install-ubuntu-mysql-on-ec2">install ubuntu mysql on ec2</a></h2>
<p>install <code>mysql-server</code> and setup mysql privillege table via <code>mysql_secure_installation</code>.</p>
<div class="remark-highlight"><pre class="language-sh"><code class="language-sh"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> nginx mysql-server
<span class="token function">sudo</span> mysql_secure_installation

</code></pre></div>
<h2 id="step2-create-a-new-user"><a href="#step2-create-a-new-user">step.2 create a new user</a></h2>
<p>create a database and a user for the database with minimum permission.</p>
<div class="remark-container tip"><p>Note: set charset to <code>UTF8mb4</code> to store emoji</p></div>
<div class="remark-highlight"><pre class="language-sql"><code class="language-sql">sudo mysql <span class="token operator">-</span>u root <span class="token operator">-</span>p

<span class="token keyword">CREATE</span> <span class="token keyword">USER</span> <span class="token string">'username'</span><span class="token variable">@'localhost'</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">'password'</span><span class="token punctuation">;</span>

<span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> <span class="token string">'database'</span> <span class="token keyword">character</span> <span class="token keyword">set</span> UTF8mb4 <span class="token keyword">collate</span> utf8mb4_bin<span class="token punctuation">;</span>

<span class="token keyword">GRANT</span> <span class="token keyword">ALL</span> <span class="token keyword">PRIVILEGES</span> <span class="token keyword">ON</span> <span class="token keyword">database</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">TO</span> <span class="token string">'username'</span><span class="token variable">@'localhost'</span> <span class="token keyword">WITH</span> <span class="token keyword">GRANT</span> <span class="token keyword">OPTION</span><span class="token punctuation">;</span>
</code></pre></div>
<h2 id="step3-install-php"><a href="#step3-install-php">step.3 install php</a></h2>
<div class="remark-highlight"><pre class="language-sh"><code class="language-sh"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> php-curl php-gd php-mbstring php-xml php-xmlrpc php-soap php-intl php-zip
</code></pre></div>
<h2 id="step4-download-wordpress"><a href="#step4-download-wordpress">step.4 download wordpress</a></h2>
<div class="remark-highlight"><pre class="language-unknown"><code class="language-unknown">cd /tmp
curl -O https://wordpress.org/latest.tar.gz
mv wp-config-sample.php wp-config.php

## open the link below to generate salt
chrome https://api.wordpress.org/secret-key/1.1/salt/</code></pre></div>
<h2 id="step5-setup-nginx"><a href="#step5-setup-nginx">step.5 setup nginx</a></h2>
<ul>
<li>default.conf</li>
<li>php-fpm unix domain socket</li>
</ul>
<h2 id="ref"><a href="#ref">ref</a></h2>
<p><a href="https://stackoverflow.com/questions/25774975/unable-to-start-php-fpm-cannot-get-uid-for-user-apache" rel="nofollow">https://stackoverflow.com/questions/25774975/unable-to-start-php-fpm-cannot-get-uid-for-user-apache</a></p></div></article><div class="CommitLogs_commit_logs__5HqJt" role="log"><h2>Commits</h2><details><summary class="CommitLogs_summary__ZlqPh"><span class="CommitLogs_commit__date__m2ycj">2022-11-27 00:25:35</span><span class="CommitLogs_commit__hash__wzS9A">897b048f</span><span class="CommitLogs_commit__message__q7MGV">update remark-custom-container to 1.2.0</span></summary><div><div class="remark-highlight"><pre data-file="897b048f.patch" class="language-git language-diff"><code class="language-git"><span class="token commit-sha1">commit 897b048fe31450b5d4f6545855125b76492f9066</span>
Author: koka &#x26;<a href="mailto:lt;koka.code@gmail.com" class="token email-link">lt;koka.code@gmail.com</a>&#x26;gt;
Date:   Sun Nov 27 00:25:35 2022 +0900

  update remark-custom-container to 1.2.0
  
  fix

diff --git a/_posts/2019-02-20-setup_ubuntu_mysql.md b/_posts/2019-02-20-setup_ubuntu_mysql.md
index 77b7437..01e440f 100644
<span class="token deleted">--- a/_posts/2019-02-20-setup_ubuntu_mysql.md</span>
<span class="token inserted">+++ b/_posts/2019-02-20-setup_ubuntu_mysql.md</span>
@@ -24,7 +24,9 @@ sudo mysql_secure_installation
create a database and a user for the database with minimum permission.

::: tip
<span class="token inserted">+</span>
Note: set charset to `UTF8mb4` to store emoji
<span class="token inserted">+</span>
:::

\```sql
</code></pre></div></div></details><details><summary class="CommitLogs_summary__ZlqPh"><span class="CommitLogs_commit__date__m2ycj">2021-01-30 22:18:17</span><span class="CommitLogs_commit__hash__wzS9A">35b550ae</span><span class="CommitLogs_commit__message__q7MGV">copy md</span></summary><div><div class="remark-highlight"><pre data-file="35b550ae.patch" class="language-git language-diff"><code class="language-git"><span class="token commit-sha1">commit 35b550ae83af4efaeadf33471c8ca8a32c1079c8</span>
Author: koka &#x26;<a href="mailto:lt;koka.code@gmail.com" class="token email-link">lt;koka.code@gmail.com</a>&#x26;gt;
Date:   Sat Jan 30 22:18:17 2021 +0900

  copy md

diff --git a/_posts/2019-02-20-setup_ubuntu_mysql.md b/_posts/2019-02-20-setup_ubuntu_mysql.md
new file mode 100644
index 0000000..77b7437
<span class="token deleted">--- /dev/null</span>
<span class="token inserted">+++ b/_posts/2019-02-20-setup_ubuntu_mysql.md</span>
<span class="token coord">@@ -0,0 +1,63 @@</span>
<span class="token inserted">+---</span>
<span class="token inserted">+title: 'Install MySQL on EC2'</span>
<span class="token inserted">+date: 2019-02-20</span>
<span class="token inserted">+categories:</span>
<span class="token inserted">+  - memo</span>
<span class="token inserted">+tags:</span>
<span class="token inserted">+  - AWS</span>
<span class="token inserted">+  - installation</span>
<span class="token inserted">+  - MySQL</span>
<span class="token inserted">+description: procedure memo</span>
<span class="token inserted">+---</span>
<span class="token inserted">+</span>
<span class="token inserted">+## install ubuntu mysql on ec2</span>
<span class="token inserted">+install `mysql-server` and setup mysql privillege table via `mysql_secure_installation`.</span>
<span class="token inserted">+</span>
<span class="token inserted">+\```sh</span>
<span class="token inserted">+sudo apt install nginx mysql-server</span>
<span class="token inserted">+sudo mysql_secure_installation</span>
<span class="token inserted">+</span>
<span class="token inserted">+\```</span>
<span class="token inserted">+</span>
<span class="token inserted">+</span>
<span class="token inserted">+## step.2 create a new user</span>
<span class="token inserted">+create a database and a user for the database with minimum permission.</span>
<span class="token inserted">+</span>
<span class="token inserted">+::: tip</span>
<span class="token inserted">+Note: set charset to `UTF8mb4` to store emoji</span>
<span class="token inserted">+:::</span>
<span class="token inserted">+</span>
<span class="token inserted">+\```sql</span>
<span class="token inserted">+sudo mysql -u root -p</span>
<span class="token inserted">+</span>
<span class="token inserted">+CREATE USER 'username'@'localhost' IDENTIFIED BY 'password';</span>
<span class="token inserted">+</span>
<span class="token inserted">+CREATE DATABASE 'database' character set UTF8mb4 collate utf8mb4_bin;</span>
<span class="token inserted">+</span>
<span class="token inserted">+GRANT ALL PRIVILEGES ON database.* TO 'username'@'localhost' WITH GRANT OPTION;</span>
<span class="token inserted">+\```</span>
<span class="token inserted">+</span>
<span class="token inserted">+## step.3 install php</span>
<span class="token inserted">+</span>
<span class="token inserted">+\```sh</span>
<span class="token inserted">+sudo apt install php-curl php-gd php-mbstring php-xml php-xmlrpc php-soap php-intl php-zip</span>
<span class="token inserted">+\```</span>
<span class="token inserted">+</span>
<span class="token inserted">+## step.4 download wordpress</span>
<span class="token inserted">+</span>
<span class="token inserted">+\```</span>
<span class="token inserted">+cd /tmp</span>
<span class="token inserted">+curl -O https://wordpress.org/latest.tar.gz</span>
<span class="token inserted">+mv wp-config-sample.php wp-config.php</span>
<span class="token inserted">+</span>
<span class="token inserted">+## open the link below to generate salt</span>
<span class="token inserted">+chrome https://api.wordpress.org/secret-key/1.1/salt/</span>
<span class="token inserted">+\```</span>
<span class="token inserted">+</span>
<span class="token inserted">+## step.5 setup nginx</span>
<span class="token inserted">+- default.conf</span>
<span class="token inserted">+- php-fpm unix domain socket</span>
<span class="token inserted">+</span>
<span class="token inserted">+</span>
<span class="token inserted">+## ref</span>
<span class="token inserted">+https://stackoverflow.com/questions/25774975/unable-to-start-php-fpm-cannot-get-uid-for-user-apache</span>
</code></pre></div></div></details></div><div class="Comments_comment__S1sQU" role="comment"><h2 class="Comments_title__494X3">Comments</h2><div id="github-comment-container"></div></div></div><aside class="slug_aside__Ow2nH"><nav class="Toc_toc__nav__MM10v"><ul class="Toc_toc__f9CQa"></ul></nav></aside></div></main><footer class="Footer_footer__UaG1g"><small>Code snippets licensed under MIT, unless otherwise noted.</small></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"slug":"2019-02-20-setup_ubuntu_mysql","title":"Install MySQL on EC2","categories":["memo"],"image":"https://koka831.github.io/img/icon.png","tags":["AWS","installation","MySQL"],"content":"\u003ch2 id=\"install-ubuntu-mysql-on-ec2\"\u003e\u003ca href=\"#install-ubuntu-mysql-on-ec2\"\u003einstall ubuntu mysql on ec2\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003einstall \u003ccode\u003emysql-server\u003c/code\u003e and setup mysql privillege table via \u003ccode\u003emysql_secure_installation\u003c/code\u003e.\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-sh\"\u003e\u003ccode class=\"language-sh\"\u003e\u003cspan class=\"token function\"\u003esudo\u003c/span\u003e \u003cspan class=\"token function\"\u003eapt\u003c/span\u003e \u003cspan class=\"token function\"\u003einstall\u003c/span\u003e nginx mysql-server\n\u003cspan class=\"token function\"\u003esudo\u003c/span\u003e mysql_secure_installation\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch2 id=\"step2-create-a-new-user\"\u003e\u003ca href=\"#step2-create-a-new-user\"\u003estep.2 create a new user\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003ecreate a database and a user for the database with minimum permission.\u003c/p\u003e\n\u003cdiv class=\"remark-container tip\"\u003e\u003cp\u003eNote: set charset to \u003ccode\u003eUTF8mb4\u003c/code\u003e to store emoji\u003c/p\u003e\u003c/div\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-sql\"\u003e\u003ccode class=\"language-sql\"\u003esudo mysql \u003cspan class=\"token operator\"\u003e-\u003c/span\u003eu root \u003cspan class=\"token operator\"\u003e-\u003c/span\u003ep\n\n\u003cspan class=\"token keyword\"\u003eCREATE\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eUSER\u003c/span\u003e \u003cspan class=\"token string\"\u003e'username'\u003c/span\u003e\u003cspan class=\"token variable\"\u003e@'localhost'\u003c/span\u003e IDENTIFIED \u003cspan class=\"token keyword\"\u003eBY\u003c/span\u003e \u003cspan class=\"token string\"\u003e'password'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003eCREATE\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eDATABASE\u003c/span\u003e \u003cspan class=\"token string\"\u003e'database'\u003c/span\u003e \u003cspan class=\"token keyword\"\u003echaracter\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eset\u003c/span\u003e UTF8mb4 \u003cspan class=\"token keyword\"\u003ecollate\u003c/span\u003e utf8mb4_bin\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003eGRANT\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eALL\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ePRIVILEGES\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eON\u003c/span\u003e \u003cspan class=\"token keyword\"\u003edatabase\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token operator\"\u003e*\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eTO\u003c/span\u003e \u003cspan class=\"token string\"\u003e'username'\u003c/span\u003e\u003cspan class=\"token variable\"\u003e@'localhost'\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eWITH\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eGRANT\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eOPTION\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch2 id=\"step3-install-php\"\u003e\u003ca href=\"#step3-install-php\"\u003estep.3 install php\u003c/a\u003e\u003c/h2\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-sh\"\u003e\u003ccode class=\"language-sh\"\u003e\u003cspan class=\"token function\"\u003esudo\u003c/span\u003e \u003cspan class=\"token function\"\u003eapt\u003c/span\u003e \u003cspan class=\"token function\"\u003einstall\u003c/span\u003e php-curl php-gd php-mbstring php-xml php-xmlrpc php-soap php-intl php-zip\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch2 id=\"step4-download-wordpress\"\u003e\u003ca href=\"#step4-download-wordpress\"\u003estep.4 download wordpress\u003c/a\u003e\u003c/h2\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-unknown\"\u003e\u003ccode class=\"language-unknown\"\u003ecd /tmp\ncurl -O https://wordpress.org/latest.tar.gz\nmv wp-config-sample.php wp-config.php\n\n## open the link below to generate salt\nchrome https://api.wordpress.org/secret-key/1.1/salt/\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch2 id=\"step5-setup-nginx\"\u003e\u003ca href=\"#step5-setup-nginx\"\u003estep.5 setup nginx\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003edefault.conf\u003c/li\u003e\n\u003cli\u003ephp-fpm unix domain socket\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"ref\"\u003e\u003ca href=\"#ref\"\u003eref\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://stackoverflow.com/questions/25774975/unable-to-start-php-fpm-cannot-get-uid-for-user-apache\" rel=\"nofollow\"\u003ehttps://stackoverflow.com/questions/25774975/unable-to-start-php-fpm-cannot-get-uid-for-user-apache\u003c/a\u003e\u003c/p\u003e","description":"procedure memo","commits":[{"title":"update remark-custom-container to 1.2.0","date":"2022-11-27 00:25:35","hash":"897b048f","diff":"\u003cdiv class=\"remark-highlight\"\u003e\u003cpre data-file=\"897b048f.patch\" class=\"language-git language-diff\"\u003e\u003ccode class=\"language-git\"\u003e\u003cspan class=\"token commit-sha1\"\u003ecommit 897b048fe31450b5d4f6545855125b76492f9066\u003c/span\u003e\nAuthor: koka \u0026#x26;\u003ca href=\"mailto:lt;koka.code@gmail.com\" class=\"token email-link\"\u003elt;koka.code@gmail.com\u003c/a\u003e\u0026#x26;gt;\nDate:   Sun Nov 27 00:25:35 2022 +0900\n\n  update remark-custom-container to 1.2.0\n  \n  fix\n\ndiff --git a/_posts/2019-02-20-setup_ubuntu_mysql.md b/_posts/2019-02-20-setup_ubuntu_mysql.md\nindex 77b7437..01e440f 100644\n\u003cspan class=\"token deleted\"\u003e--- a/_posts/2019-02-20-setup_ubuntu_mysql.md\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+++ b/_posts/2019-02-20-setup_ubuntu_mysql.md\u003c/span\u003e\n@@ -24,7 +24,9 @@ sudo mysql_secure_installation\ncreate a database and a user for the database with minimum permission.\n\n::: tip\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\nNote: set charset to `UTF8mb4` to store emoji\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n:::\n\n\\```sql\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e"},{"title":"copy md","date":"2021-01-30 22:18:17","hash":"35b550ae","diff":"\u003cdiv class=\"remark-highlight\"\u003e\u003cpre data-file=\"35b550ae.patch\" class=\"language-git language-diff\"\u003e\u003ccode class=\"language-git\"\u003e\u003cspan class=\"token commit-sha1\"\u003ecommit 35b550ae83af4efaeadf33471c8ca8a32c1079c8\u003c/span\u003e\nAuthor: koka \u0026#x26;\u003ca href=\"mailto:lt;koka.code@gmail.com\" class=\"token email-link\"\u003elt;koka.code@gmail.com\u003c/a\u003e\u0026#x26;gt;\nDate:   Sat Jan 30 22:18:17 2021 +0900\n\n  copy md\n\ndiff --git a/_posts/2019-02-20-setup_ubuntu_mysql.md b/_posts/2019-02-20-setup_ubuntu_mysql.md\nnew file mode 100644\nindex 0000000..77b7437\n\u003cspan class=\"token deleted\"\u003e--- /dev/null\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+++ b/_posts/2019-02-20-setup_ubuntu_mysql.md\u003c/span\u003e\n\u003cspan class=\"token coord\"\u003e@@ -0,0 +1,63 @@\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+---\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+title: 'Install MySQL on EC2'\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+date: 2019-02-20\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+categories:\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  - memo\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+tags:\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  - AWS\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  - installation\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+  - MySQL\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+description: procedure memo\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+---\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+## install ubuntu mysql on ec2\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+install `mysql-server` and setup mysql privillege table via `mysql_secure_installation`.\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\\```sh\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+sudo apt install nginx mysql-server\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+sudo mysql_secure_installation\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\\```\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+## step.2 create a new user\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+create a database and a user for the database with minimum permission.\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+::: tip\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+Note: set charset to `UTF8mb4` to store emoji\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+:::\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\\```sql\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+sudo mysql -u root -p\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+CREATE USER 'username'@'localhost' IDENTIFIED BY 'password';\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+CREATE DATABASE 'database' character set UTF8mb4 collate utf8mb4_bin;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+GRANT ALL PRIVILEGES ON database.* TO 'username'@'localhost' WITH GRANT OPTION;\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\\```\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+## step.3 install php\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\\```sh\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+sudo apt install php-curl php-gd php-mbstring php-xml php-xmlrpc php-soap php-intl php-zip\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\\```\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+## step.4 download wordpress\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\\```\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+cd /tmp\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+curl -O https://wordpress.org/latest.tar.gz\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+mv wp-config-sample.php wp-config.php\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+## open the link below to generate salt\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+chrome https://api.wordpress.org/secret-key/1.1/salt/\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\\```\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+## step.5 setup nginx\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+- default.conf\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+- php-fpm unix domain socket\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+## ref\u003c/span\u003e\n\u003cspan class=\"token inserted\"\u003e+https://stackoverflow.com/questions/25774975/unable-to-start-php-fpm-cannot-get-uid-for-user-apache\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e"}],"publishedAt":"2019-02-20","updatedAt":"2022-11-27"}},"__N_SSG":true},"page":"/archives/[slug]","query":{"slug":"2019-02-20-setup_ubuntu_mysql"},"buildId":"RYlNkAO9iP5wrJIS7PZpX","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>